(this["webpackJsonpsocial-app-client"]=this["webpackJsonpsocial-app-client"]||[]).push([[0],{23:function(A,e){A.exports="data:image/jpeg;base64,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"},46:function(A,e,t){A.exports=t(79)},51:function(A,e,t){},79:function(A,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),r=t(20),c=t.n(r),s=(t(51),t(6)),i=t(4),o=t(16),l=t(40),u={isAuthenticated:!1,user:{}},m=t(18),p=t(45),d=Object(o.c)({currentUser:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURRENT_USER":return{isAuthenticated:!!Object.keys(e.user).length,user:e.user};default:return A}},errors:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_ERROR":return Object(m.a)({},A,{message:e.error});case"REMOVE_ERROR":return Object(m.a)({},A,{message:null});default:return A}},tweets:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD_TWEETS":return Object(p.a)(e.tweets);case"REMOVE_TWEET":return A.filter((function(A){return A._id!==e.id}));default:return A}}});var f=t(9),E=t(10),b=t(12),h=t(11),v=t(13),g=t(41),w=t(24),j=t.n(w);function O(A,e,t){return new Promise((function(a,n){var r="https://trweeter-backend.herokuapp.com"+e;return j.a[A](r,t).then((function(A){return a(A.data)})).catch((function(A){return n(A.response.data.error)}))}))}var U=function(A){return{type:"ADD_ERROR",error:A}},R=function(){return{type:"REMOVE_ERROR"}};function T(A){return{type:"SET_CURRENT_USER",user:A}}function x(A){!function(A){A?j.a.defaults.headers.common.Authorization="Bearer ".concat(A):delete j.a.defaults.headers.common.Authorization}(A)}var N=function(A){function e(){var A,t;Object(f.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(b.a)(this,(A=Object(h.a)(e)).call.apply(A,[this].concat(n)))).logout=function(A){A.preventDefault(),t.props.logout()},t}return Object(v.a)(e,A),Object(E.a)(e,[{key:"render",value:function(){var A=this.props.currentUser;return n.a.createElement("nav",{className:"navbar navbar-expand"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement(i.b,{to:"/",className:"navbar-brand"},n.a.createElement("i",{className:"fa fa-2x fa-twitter"})),A.isAuthenticated?n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},n.a.createElement("li",null,n.a.createElement(i.b,{to:"/users/".concat(A.user.id,"/tweets/new")},"New Tweet")),n.a.createElement("li",null,n.a.createElement(i.b,{to:"",onClick:this.logout},"Sign out"))):n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},n.a.createElement("li",null,n.a.createElement(i.b,{to:"/signup"},"Sign up")),n.a.createElement("li",null,n.a.createElement(i.b,{to:"/signin"},"Sign in")))))}}]),e}(a.Component);var y=Object(s.b)((function(A){return{currentUser:A.currentUser}}),{logout:function(){return function(A){localStorage.clear(),x(!1),A(T({}))}}})(N),H=t(17),z=t(43),P=t.n(z),V=t(23),M=t.n(V),B=function(A){var e=A.date,t=A.profileImageUrl,a=A.text,r=A.username,c=A.isCurrentUser,s=A.deleteTweet;return n.a.createElement("div",null,n.a.createElement("li",{className:"list-group-item"},n.a.createElement("img",{src:t||M.a,alt:r,className:"timeline-image"}),n.a.createElement("div",{className:"tweet-area"},n.a.createElement(i.b,{to:"/"},"@",r," \xa0"),n.a.createElement("span",{className:"text-muted"},n.a.createElement(P.a,{className:"text-muted",format:"Do MMM YYYY"},e)),n.a.createElement("p",null,a),c&&n.a.createElement("i",{onClick:s,className:"fa fa-times"}))))},Z=function(A){function e(){return Object(f.a)(this,e),Object(b.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(v.a)(e,A),Object(E.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTweets()}},{key:"render",value:function(){var A=this.props,e=A.tweets,t=A.currentUser,a=A.deleteTweet,r=e.map((function(A){return n.a.createElement(B,{key:A._id,date:A.creatAt,text:A.text,username:A.user.username,profileImageUrl:A.user.profileImageUrl,isCurrentUser:t===A.user._id,deleteTweet:function(){return a(A.user._id,A._id)}})}));return n.a.createElement("div",{className:"row col-sm-8"},n.a.createElement("div",{className:"offset-1 col-sm-10 tweet-list"},n.a.createElement("ul",{className:"list-group",id:"tweets"},r)))}}]),e}(a.Component);var D=Object(s.b)((function(A){return{tweets:A.tweets,currentUser:A.currentUser.user.id}}),{fetchTweets:function(){return function(A){return O("get","/api/tweets").then((function(e){return A({type:"LOAD_TWEETS",tweets:e})})).catch((function(e){return A(U(e.message))}))}},deleteTweet:function(A,e){return function(t){return O("delete","/api/users/".concat(A,"/tweets/").concat(e)).then((function(){return t({type:"REMOVE_TWEET",id:e})})).catch((function(A){return t(U(A.message))}))}}})(Z),X=function(A){var e=A.username,t=A.profileImageUrl;return n.a.createElement("aside",{className:"col-sm-2"},n.a.createElement("div",{className:"panel panel-default"},n.a.createElement("div",{className:"panel-body"},n.a.createElement("img",{src:t||M.a,alt:e,className:"img-thumbnail"}),n.a.createElement("div",{className:"id-thumbnail"},"@",e))))},Y=function(A){var e=A.username,t=A.profileImageUrl;return n.a.createElement("div",{className:"row"},n.a.createElement(X,{username:e,profileImageUrl:t}),n.a.createElement(D,null))},W=function(A){var e=A.currentUser;if(!e.isAuthenticated)return n.a.createElement("div",{className:"home-hero"},n.a.createElement("h1",null,"Want to know what's happening in the world right now?"),n.a.createElement(i.b,{to:"/signup",className:"btn btn-primary btn-lg"},"Sign up!"));var t=e.user,a=t.username,r=t.profileImageUrl;return n.a.createElement("div",null,n.a.createElement(Y,{username:a,profileImageUrl:r}))},q=t(22),F={email:"",username:"",password:"",profileImageUrl:""},I=function(A){function e(){var A,t;Object(f.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(b.a)(this,(A=Object(h.a)(e)).call.apply(A,[this].concat(n)))).state=Object(m.a)({},F),t.handleChange=function(A){var e=A.target,a=e.name,n=e.value;t.setState(Object(q.a)({},a,n))},t.handleSubmit=function(A){A.preventDefault();var e=t.props.signUp?"signup":"signin";t.props.onAuth(e,t.state).then((function(){t.props.history.push("/")})).catch((function(){t.setState(Object(m.a)({},F))}))},t}return Object(v.a)(e,A),Object(E.a)(e,[{key:"render",value:function(){var A=this,e=this.state,t=e.email,a=e.username,r=e.password,c=e.profileImageUrl,s=this.props,i=s.buttonText,o=s.heading,l=s.signUp,u=s.errors,p=s.history,d=s.removeError;return p.listen((function(){d(),A.setState(Object(m.a)({},F))})),n.a.createElement("div",{className:"row justify-content-md-center text-center"},n.a.createElement("div",{className:"col-md-6 col-lg-4 auth-form"},n.a.createElement("form",{action:"",onSubmit:this.handleSubmit},u.message&&n.a.createElement("div",{className:"alert alert-danger"},u.message),n.a.createElement("h2",{className:"my-4"},o),n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",id:"email",name:"email",value:t,className:"form-control",onChange:this.handleChange}),n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:"password",id:"password",name:"password",value:r,className:"form-control",onChange:this.handleChange}),l&&n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"username"},"Username:"),n.a.createElement("input",{type:"text",id:"username",name:"username",value:a,className:"form-control",onChange:this.handleChange}),n.a.createElement("label",{htmlFor:"profileImageUrl"},"Profile Image url:"),n.a.createElement("input",{type:"text",id:"profileImageUrl",name:"profileImageUrl",value:c,className:"form-control",onChange:this.handleChange})),n.a.createElement("button",{type:"submit",className:"mt-5 btn btn-primary btn-lg btn-block"},i))))}}]),e}(a.Component),L=function(A){function e(){var A,t;Object(f.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(b.a)(this,(A=Object(h.a)(e)).call.apply(A,[this].concat(n)))).state={tweet:""},t.handleNewTweet=function(A){A.preventDefault(),t.props.postNewTweet(t.state.tweet),t.setState({tweet:""}),t.props.history.push("/")},t}return Object(v.a)(e,A),Object(E.a)(e,[{key:"render",value:function(){var A=this,e=this.props.errors;return n.a.createElement("div",{className:"row justify-content-md-center text-center"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("form",{action:"",onSubmit:this.handleNewTweet},e.message&&n.a.createElement("div",{className:"alert alert-danger"},e.message),n.a.createElement("h2",{className:"my-4"},"Add New Tweet"),n.a.createElement("input",{name:"tweet",value:this.state.tweet,onChange:function(e){return A.setState({tweet:e.target.value})},className:"form-control rounded mt-4 mb-3"}),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},"Tweet"))))}}]),e}(a.Component);var k=Object(s.b)((function(A){return{errors:A.errors}}),{postNewTweet:function(A){return function(e,t){var a=t().currentUser.user.id;return O("post","/api/users/".concat(a,"/tweets"),{text:A}).then((function(){})).catch((function(A){return e(U(A.message))}))}}})(L);function S(A){var e=function(e){function t(){return Object(f.a)(this,t),Object(b.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){!1===this.props.isAuthenticated&&this.props.history.push("/signin")}},{key:"componentWillUpdate",value:function(A){!1===A.isAuthenticated&&this.props.history.push("/signin")}},{key:"render",value:function(){return n.a.createElement(A,this.props)}}]),t}(a.Component);return Object(s.b)((function(A){return{isAuthenticated:A.currentUser.isAuthenticated}}))(e)}var J=Object(H.f)(Object(s.b)((function(A){return{currentUser:A.currentUser,errors:A.errors}}),{authUser:function(A,e){return function(t){return new Promise((function(a,n){return O("post","/api/auth/".concat(A),e).then((function(A){var e=A.token,n=Object(g.a)(A,["token"]);localStorage.setItem("jwtToken",e),x(e),t(T(n)),t({type:"REMOVE_ERROR"}),a()})).catch((function(A){t(U(A.message)),n()}))}))}},removeError:R})((function(A){var e=A.authUser,t=A.removeError,a=A.currentUser,r=A.errors;return n.a.createElement("div",{className:"container"},n.a.createElement(H.c,null,n.a.createElement(H.a,{exact:!0,path:"/",render:function(A){return n.a.createElement(W,Object.assign({currentUser:a},A))}}),n.a.createElement(H.a,{exact:!0,path:"/signin",render:function(A){return n.a.createElement(I,Object.assign({errors:r,removeError:t,onAuth:e,buttonText:"Log in",heading:"Welcome Back."},A))}}),n.a.createElement(H.a,{exact:!0,path:"/signup",render:function(A){return n.a.createElement(I,Object.assign({signUp:!0,errors:r,removeError:t,onAuth:e,buttonText:"Sign me up!",heading:"Join today."},A))}}),n.a.createElement(H.a,{path:"/users/:id/tweets/new",component:S(k)})))}))),C=t(44),Q=t.n(C),K=Object(o.e)(d,Object(o.d)(Object(o.a)(l.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));if(localStorage.jwtToken){x(localStorage.jwtToken);try{K.dispatch(T(Q()(localStorage.jwtToken)))}catch(_){K.dispatch(T({}))}}var G=function(){return n.a.createElement(s.a,{store:K},n.a.createElement(i.a,{basename:"/"},n.a.createElement("div",{className:"onboarding"},n.a.createElement(y,null),n.a.createElement(J,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(78);c.a.render(n.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(A){A.unregister()})).catch((function(A){console.error(A.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.ff1e2368.chunk.js.map